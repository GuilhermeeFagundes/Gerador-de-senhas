<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gerador de Senhas</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
  <div class="qd2">
    <div id="quadrado">
      <label for="inputSenha" id="labelRange">Defina a quantidade de caracteres da sua senha: </label>
      <div class="centralizar">
        <div id="senhaExibir"></div>
      </div>
      <input type="range" name="" id="inputSenha" min="2" max="50" value="8"> <br>
      <!-- <button id="btn">Gerar</button> -->
      <div class="centralizar">
        <div id="res"></div>
      </div>
      <i style="font-size:24px" class="fa" id="btn">&#xf021;</i>
      <div class="checkbox">

        <div class="d-flex">
          <div class="checkbox">
            <input type="checkbox" name="" id="Numeros" checked>
            <label for="Numeros">Números</label>
          </div>
          <div class="checkbox">
            <input type="checkbox" name="" id="letrasMaiu" checked>
            <label for="letrasMaiu">Maiúsculas</label>
          </div>
          <div class="checkbox">
            <input type="checkbox" name="" id="Simbolos" checked>
            <label for="Simbolos">Simbolos</label>
          </div>
        </div>
      </div>

    </div>

  </div>

  <footer>
    <p><strong>Desenvolvido por: Guilherme Fagundes</strong></p>
  </footer>




  <script>
    let btn = document.getElementById('btn')
    let div = document.getElementById('res')
    let div2 = document.getElementById('senhaExibir')
    let inputRange = document.getElementById('inputSenha')
    let checkerboxNum = document.getElementById('Numeros')
    let checkerboxMaiu = document.getElementById('letrasMaiu')
    let checkerboxSimb = document.getElementById('Simbolos')

    function gerarSenha() {
      // let quantidadeDIG = Math.random()                                   
      // quantidadeDIG = quantidadeDIG * 9 + 1 // para não gerar 0
      // quantidadeDIG = Math.round(quantidadeDIG)                               (GERA A QUANTIDADE DE DIGITOS ALEATORIAMENTE.)
      // console.log(`A quantidade de letras da senha é: ${quantidadeDIG}`)

      let quantidadeDIG = document.getElementById('inputSenha').value
      div2.innerHTML = quantidadeDIG
      let caracteresPo = `abcdefghijklmnopqrstuvwxyz`
      let caracteresMai = `ABCDEFGHIJKLMNOPQRSTUVWXYZ`
      let caracteresSimb = `!@#$%^&*()_+-=[]{}|;:'",.<>?/~`
      let caracteresnums = `0123456789`


      //Caso marcado --
      if (checkerboxNum.checked) {
        caracteresPo += caracteresnums //adiciona números
      }
      if (checkerboxMaiu.checked) {
        caracteresPo += caracteresMai //adiciona letras maiúsculas
      }
      if (checkerboxSimb.checked) {
        caracteresPo += caracteresSimb //adiciona símbolos
      }
      console.log(caracteresPo)

      let senha = ''
      console.log(caracteresPo)

      for (let i = 0; i < quantidadeDIG; i++) {
        let caracteresALE = Math.random()
        caracteresALE = caracteresALE * (caracteresPo.length - 1)
        caracteresALE = Math.round(caracteresALE)
        console.log(caracteresALE)

        console.log(caracteresPo[caracteresALE])
        senha += `${caracteresPo[caracteresALE]}`

      }

      div.innerText = senha
    }


    function copyPassword() {
      let senha = div.innerText
      console.log(senha)

      // Cria um elemento de texto temporário
      let tempInput = document.createElement("textarea")
      tempInput.value = senha
      document.body.appendChild(tempInput)

      // Seleciona o texto do elemento temporário
      tempInput.select()
      tempInput.setSelectionRange(0, 99999) // Para dispositivos móveis

      // Copia o texto selecionado para a área de transferência
      document.execCommand("copy")

      // Remove o elemento temporário
      document.body.removeChild(tempInput)
    }

    gerarSenha()
    btn.addEventListener('click', gerarSenha)
    inputRange.addEventListener('input', gerarSenha)
    checkerboxSimb.addEventListener('change', gerarSenha)
    checkerboxNum.addEventListener('change', gerarSenha)
    checkerboxMaiu.addEventListener('change', gerarSenha)
  </script>
</body>

</html>